<!doctype html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>nevrqx ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</title>
  <meta name="description" content="nevrqx ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±–ª–æ–≥ —Å —É–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ Supabase" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="site-header">
    <div class="container row gap-sm align-center between">
      <div class="brand row align-center gap-sm">
        <div class="logo">n</div>
        <div>
          <div class="site-title">nevrqx</div>
          <div class="site-subtitle">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</div>
        </div>
      </div>
      <div class="nav">
        <a href="#/">–ì–ª–∞–≤–Ω–∞—è</a>
        <div class="search-container">
          <input type="search" id="globalSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É..." />
          <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </div>
        <a href="#/admin">–ê–¥–º–∏–Ω</a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- –ì–ª–∞–≤–Ω–∞—è: —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω) -->
    <section id="route-home" class="route full-bleed">
      <div id="posts" class="posts-grid"></div>
      <div id="homeEmpty" class="home-empty" hidden>
        <div class="icon">üìù</div>
        <div class="text">–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤.</div>
      </div>
    </section>

    <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–∞ -->
    <section id="route-post" class="route full-bleed" hidden>
      <article id="postView" class="post">
        <div class="post-cover" id="postCover" hidden></div>
        <h1 id="postTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h1>
        <div class="muted" id="postMeta"></div>
        <div id="postContent" class="prose"></div>
        <div class="tags" id="postTags"></div>
      </article>

      <section class="comments">
        <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>
        <div class="row gap-sm wrap">
          <select id="commentSort">
            <option value="top">–°–Ω–∞—á–∞–ª–∞ –ª—É—á—à–∏–µ</option>
            <option value="new">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
          </select>
        </div>
        <div id="commentsLoading" class="loading-text" hidden>
          <div class="loading-spinner"></div>
          –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤...
        </div>
        <div id="commentsList" class="comment-tree"></div>
        <div id="commentsPagination" class="comments-pagination"></div>
        <form id="commentForm" class="card">
          <div class="row gap-sm">
            <input type="text" id="commentName" placeholder="–í–∞—à–µ –∏–º—è" autocomplete="name" />
          </div>
          <textarea id="commentBody" rows="4" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π‚Ä¶"></textarea>
          <div class="row between align-center">
            <button class="btn primary" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </section>
    </section>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
    <section id="route-admin" class="route full-bleed" hidden>
      <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
      <div id="adminAuth" class="admin-login-container">
        <div class="admin-login-card">
          <div class="admin-login-header">
            <div class="admin-icon">üîê</div>
            <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <p>–í–æ–π–¥–∏—Ç–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏</p>
          </div>
          <form id="loginForm" class="admin-login-form">
            <div class="input-group">
              <label for="email">Email</label>
              <input type="email" id="email" placeholder="admin@example.com" autocomplete="username" required />
            </div>
            <div class="input-group">
              <label for="password">–ü–∞—Ä–æ–ª—å</label>
              <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" required />
            </div>
            <button class="btn primary login-btn" type="submit">
              <span>–í–æ–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å</span>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M21 12H9"/>
              </svg>
            </button>
          </form>
        </div>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
      <div id="adminPanel" class="admin-dashboard" hidden>
        <div class="container">
          <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏ -->
          <div class="dashboard-header">
            <div class="dashboard-title">
              <h1>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>
              <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</p>
            </div>
            <div class="dashboard-actions">
              <button id="newPostBtn" class="btn primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 5v14M5 12h14"/>
                </svg>
                –ù–æ–≤—ã–π –ø–æ—Å—Ç
              </button>
              <button id="logoutBtn" class="btn ghost">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
                </svg>
                –í—ã–π—Ç–∏
              </button>
            </div>
          </div>

          <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ (–ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤–æ –≤–∫–ª–∞–¥–∫—É "–ü–æ—Å—Ç—ã") -->

          <!-- Admin Tabs -->
          <div class="dashboard-tabs">
            <button class="tab-btn active" data-admin-tab="posts">–ü–æ—Å—Ç—ã</button>
            <button class="tab-btn" data-admin-tab="comments">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</button>
            <button class="tab-btn" data-admin-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
          </div>

          <!-- –†–∞–∑–¥–µ–ª: –ü–æ—Å—Ç—ã -->
          <section id="adminSectionPosts" class="admin-section">
            <div class="dashboard-filters">
              <div class="filters-group">
                <div class="filter-item">
                  <label>–°—Ç–∞—Ç—É—Å</label>
                  <select id="statusFilter">
                    <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                    <option value="draft">üìù –ß–µ—Ä–Ω–æ–≤–∏–∫–∏</option>
                    <option value="scheduled">‚è∞ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</option>
                    <option value="published">‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ</option>
                  </select>
                </div>
                <div class="filter-item">
                  <label>–ü–æ–∏—Å–∫</label>
                  <input id="adminSearch" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –∏ —Ç–µ–≥–∞–º..." />
                </div>
              </div>
            </div>
            <div class="dashboard-content">
              <div id="adminPosts" class="posts-table"></div>
            </div>
          </section>

          <!-- –†–∞–∑–¥–µ–ª: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
          <section id="adminSectionComments" class="admin-section" hidden>
            <div class="dashboard-header">
              <div class="dashboard-title">
                <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>
                <p>–ü—Ä–æ—Å–º–æ—Ç—Ä, –æ—Ç–≤–µ—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è</p>
              </div>
            </div>
            <div class="dashboard-content wide">
              <div class="dashboard-filters">
                <div class="filters-group">
                  <div class="filter-item">
                    <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
                    <select id="adminCommentSort">
                      <option value="desc">–ù–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É</option>
                      <option value="asc">–°—Ç–∞—Ä—ã–µ —Å–≤–µ—Ä—Ö—É</option>
                    </select>
                  </div>
                  <div class="filter-item">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select id="adminCommentAnswered">
                      <option value="all">–í—Å–µ</option>
                      <option value="unanswered">–ë–µ–∑ –æ—Ç–≤–µ—Ç–∞</option>
                      <option value="answered">–° –æ—Ç–≤–µ—Ç–æ–º</option>
                    </select>
                  </div>
                </div>
              </div>
              <div id="adminCommentsList" class="comments-admin-list"></div>
            </div>
          </section>

          <!-- –†–∞–∑–¥–µ–ª: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∑–∞–≥–ª—É—à–∫–∞) -->
          <section id="adminSectionSettings" class="admin-section" hidden>
            <div class="dashboard-header">
              <div class="dashboard-title">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <p>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ (—Å–∫–æ—Ä–æ)</p>
              </div>
            </div>
            <div class="dashboard-content wide">
              <div class="muted">–†–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ.</div>
            </div>
          </section>

          <dialog id="editorDialog">
          <form id="editorForm" method="dialog" class="editor column gap-md">
            <div class="row between align-center">
              <h3 id="editorTitle">–ù–æ–≤—ã–π –ø–æ—Å—Ç</h3>
              <button class="btn ghost" id="closeEditor" type="button">‚úï</button>
            </div>
            <div class="grid-2 gap-md">
              <input type="text" id="post_title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" required />
              <input type="text" id="post_slug" placeholder="–°–ª–∞–≥ (url-–¥—Ä—É–∂–µ–ª—é–±–Ω–æ)" />
            </div>
            <input type="text" id="post_description" maxlength="200" placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (—Ç–∏–∑–µ—Ä –¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤)" />
            <input type="url" id="post_cover_url" placeholder="URL –æ–±–ª–æ–∂–∫–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" />
            <textarea id="post_content" rows="14" placeholder="–°–æ–¥–µ—Ä–∂–∏–º–æ–µ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Markdown)"></textarea>
            <div class="row gap-md wrap">
              <label class="row gap-xs align-center">
                <span>–°—Ç–∞—Ç—É—Å</span>
                <select id="post_status">
                  <option value="draft">—á–µ—Ä–Ω–æ–≤–∏–∫</option>
                  <option value="published">–æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</option>
                  <option value="scheduled">–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å</option>
                </select>
              </label>
              <label class="row gap-xs align-center">
                <div class="toggle-switch">
                  <input type="checkbox" id="toggle_schedule" />
                  <span class="toggle-slider"></span>
                </div>
                <span>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é</span>
              </label>
              <label class="row gap-xs align-center hidden" id="schedule_wrap"><span>–î–∞—Ç–∞/–≤—Ä–µ–º—è</span><input type="datetime-local" id="post_scheduled_at" /></label>
              <label class="row gap-xs align-center">
                <span>–ó–∞–∫—Ä–µ–ø–∏—Ç—å</span>
                <input type="checkbox" id="post_pinned" />
              </label>
            </div>
            <div class="row between">
              <button class="btn danger" id="deletePostBtn" type="button" hidden>–£–¥–∞–ª–∏—Ç—å</button>
              <button class="btn primary" id="savePostBtn" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
          </form>
        </dialog>

        <!-- Themed dialogs for admin actions -->
        <dialog id="confirmDialog" class="modal">
          <form method="dialog" class="modal-card">
            <div class="modal-header">
              <h3 id="confirmTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
              <button class="btn ghost" value="cancel" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
            </div>
            <div class="modal-body" id="confirmMessage">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</div>
            <div class="modal-actions">
              <button class="btn" value="cancel">–û—Ç–º–µ–Ω–∞</button>
              <button class="btn danger" value="ok" autofocus>–£–¥–∞–ª–∏—Ç—å</button>
            </div>
          </form>
        </dialog>

        <dialog id="promptDialog" class="modal">
          <form method="dialog" class="modal-card">
            <div class="modal-header">
              <h3 id="promptTitle">–û—Ç–≤–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
              <button class="btn ghost" value="cancel" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
            </div>
            <div class="modal-body column gap-sm">
              <label class="small" for="promptInput">–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
              <textarea id="promptInput" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç‚Ä¶"></textarea>
            </div>
            <div class="modal-actions">
              <button class="btn" value="cancel">–û—Ç–º–µ–Ω–∞</button>
              <button class="btn primary" value="ok" autofocus>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
          </form>
        </dialog>

      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container row between align-center">
      <div class="muted small">¬© <span id="year"></span> nevrqx</div>
      <div class="muted small">–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</div>
    </div>
  </footer>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // Supabase credentials injected by assistant
    window.SUPABASE_URL = 'https://ubyveomgijyjudfwrtdw.supabase.co';
    window.SUPABASE_ANON_KEY = 'sb_publishable_Y-S2Aslm0eISSlsXB4Um0A_M0Mip6IE';
    window.ADMIN_EMAIL = 'nevrqx@gmail.com';
  </script>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
